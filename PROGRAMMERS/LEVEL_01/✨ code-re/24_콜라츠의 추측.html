<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>24.콜라츠 추측</title>
</head>

<body>
  <h1>콜라츠 추측</h1>

  <!-- 나의 풀이 -->
  <script>
  function solution(num) {
    let answer = 0;

    for (let i = 0; i < 500; i++) {
      if (num === 1) {
        answer = i;
        break;
      } else if ((i === 499) && (num !== 1)) {
        answer = -1;
      } else if (num % 2 === 0) {
        num = num / 2;
      } else if (num % 2 !== 0) {
        num = (num * 3) + 1;
      }
    }

    return answer;

  }
  console.log(`정답은? :  ${solution(16)}`); //4가 나와야 한다.

  // 재귀함수로 풀어보기
  function solution2(num,count = 0){
    return num === 1 ? (count >= 500 ? -1 : count) : solution2(num % 2 === 0 ? num = num / 2 : (num * 3) + 1, ++count)
  }
  console.log(`재귀 정답은? : ${solution2(6)}`);
  </script>

  <!-- 다른 풀이 -->
  <script>
    const solution3 = (num) => collatzGuessCount(num, 0);

    const collatzGuessCount = (num, acc) =>
      (num === 1) ? ((acc > 500) ? -1 : acc) : collatzGuessCount(processCollatz(num), ++acc);

    const processCollatz = (num) => (num % 2 === 0) ? (num / 2) : (num * 3 + 1);

    console.log(solution3(16));
  </script>
</body>

</html>